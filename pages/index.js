import { useEffect, useState } from "react";
import Head from "next/head";
import { topics, diaries } from "mock/data";
import { MainBackground } from "common/components/other/";
import { Topics, Introduction, HotNews, Diaries } from "modules/Home";
import { getAll } from "utils/axios";

// export async function getServerSideProps() {
//   const res = await getAll("topics");
//   const data = res.data.data;
//   return { props: { data } };
// }

export default function Home({ data }) {
  // const [topics, setTopics] = useState([]);

  // useEffect(() => {
  //   if (data) {
  //     setTopics(data);
  //   }
  // });

  return (
    <div>
      <Head>
        <title>Thanh niên làm theo lời Bác</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link
          rel="preload"
          href="/assets/fonts/font-awesome.css"
          as="style"
          type="text/css"
          crossOrigin="anonymous"
        />
      </Head>
      {/* Section Main Background */}
      <MainBackground />

      {/* Section Topics */}
      <Topics topics={topics} />

      {/* Section Introduction */}
      <Introduction />

      {/* Section Hot News */}
      <HotNews />

      {/* Section Diaries */}
      <Diaries diaries={diaries} />
    </div>
  );
}
